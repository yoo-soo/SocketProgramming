# Socket Chatting Programming 

### 개발 일정
```
* 개발 구성도 설계
  * 2023.07.10 ~ 2023.07.14
* 개발 코드 작성
  * 2023.07.17 ~ 2023.07.24
```
## 개요
1) 다수의 사용자가 접근 가능한 1개의 채팅방을 가지고 있는 채팅 서버를 제작한다.
2) 채팅 서버에 접속할 수 있는 클라이언트 프로그램을 제작한다.

> ## 요구사항
> > 1. 인증
> > > (1) 채팅 서버는 sqlite를 이용하여 id/pw 를 관리 한다. \
> > > (2) 채팅 클라이언트는 채팅 서버에 접속 시 id/pw 를 인증 한다. \
> > > ※ 최초 접속 시 (sqlite에 목록에 없는 서버 인 경우) id/pw 입력을 수행 한다.
> > 2. 채팅
> > > (1) 채팅 서버는 다수의 채팅 클라이언트를 관리해야 한다. \
> > > (2) 채팅 서버는 채팅 클라이언트의 접속, 접속끊음을 통지해야 한다. \
> > > (3) 채팅 클라이언트는 채팅 서버 IP, 채팅 서버 PORT를 인자값으로 실행하여 채팅 서버에 접속 한다. \
> > > (4) 채팅 클라이언트에서 메시지를 입력 시에 모든 채팅 클라이언트로 메시지가 전달되어야 한다.
  
## 프로그램 구조 및 흐름도
![image](https://github.com/yoo-soo/markTest/assets/80819675/7f9394c9-dad0-4de8-ba7d-ed8273270014)

## DB 구조

|속성|타입|
|------|---|
|NAME|TEXT|
|PW|TEXT|
|IP|TEXT|

## 규약
|요청|키워드|
|------|---|
|회원가입 진행 O|NO_SGUP|
|회원가입 진행 x|GO_SGUP|
|로그인 실패|SGIN_FAIL|
|로그인 성공|SGIN_SUCCESS|
|채팅 메시지|CHAT|
|명령어 입력|CMD|
|종료|EXIT|

## 서버 to 클라이언트
* 회원가입 요청 거절
```
NO_SGUP
```
* 회원가입 요청 승인
```
GO_SGUP
```
* 로그인 요청
```
SGIN
```
* 채팅 시작 요청
```
LOGIN SUCCESS
```
* 명령어
```
USER_LIST_CMD
MY_INFO_CMD
HELP_CMD
CHAT_NUM_CMD
```
* 종료
```
EXIT
```

## 클라이언트 to 서버
* 회원가입 응답
```
NO_SGUP : <y/n>
GO_SGUP : <y/n>
```
* 로그인 응답
```
SGIN : <password>
```
* 채팅 메시지
```
CHAT : <message>
```
* 명령어 입력
```
CMD : !<command>
```
* 종료 요청
```
EXIT
```

## 기능 구성
* 서버
  * 서버는 PORT를 인자 값으로 오픈할 수 있음.
  * ( 사용 가능한 PORT NUMBER[1024~49151] 외의 입력 예외 처리함 )
  * 다수의 클라이언트를 연결하고 관리할 수 있음.
  * 클라이언트에서 입력된 비밀번호 및 접속 클라이언트 IP 확인, 관리자 명령어를 통한 추가적인 기능을 제공함.
* 클라이언트
  * 서버 연결 시 IP, PORT, NICKNAME을 인자 값으로 하여 접속 가능함.
  * ( 사용 가능한 PORT NUMBER[1024~49151], IP LENGTH[7~15] 외의 입력을 예외 처리함 )
  * 메시지가 입력되면 접속 클라이언트 전체에게 채팅 메시지를 전송함.
  * 수신자와 발신자가 헷갈리지 않게 글자 색상으로 구별함.
  * 클라이언트 특정 명령어 입력 시 접속자 수, 접속자 목록, 내 정보, 도움말 등의 기능을 제공함.
